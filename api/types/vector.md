# 🎮 vector

`vector` 是一个常见的 3D 向量类型，包含 x、y、z 三个坐标值。
> 此类型支持运算符操作,如 `+`, `-`, `/`, `*` 和 `==`。
_________________

### x

[![字段][这是一个常规字段，必须使用点 (.) 访问。]rw]

类型: `float`

X 坐标。

### y

[![字段][这是一个常规字段，必须使用点 (.) 访问。]rw]

类型: `float`

Y 坐标。

### z

[![字段][这是一个常规字段，必须使用点 (.) 访问。]rw]

类型: `float`

Z 坐标。

### vector

[![构造函数][这是一个构造函数，用于创建新的 vector 实例。]rw]

构造一个新的 vector。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `x` | `float` | X 坐标，默认为 0。 |
| `y` | `float` | Y 坐标，默认为 0。 |
| `z` | `float` | Z 坐标，默认为 0。 |

**示例**

```lua
local vec = vector(5, 25, 12)
```

### is_zero

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

检查向量是否在容差范围内接近零向量。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `tolerance` | `float` | 最大允许的容差，默认为 0.01。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `bool` | 如果向量的每个分量都在 -tolerance 到 tolerance 之间，则返回 true，否则返回 false。 |

**示例**

```lua
local vec = vector(0, 0.1, 0.5)
print(vec:is_zero(1)) -- 输出 true
```

### dist

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算到另一个向量的距离。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `other` | `vector` | 要计算距离的目标向量。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 到目标向量的距离。 |

**示例**

```lua
local vec1 = vector(0, 0, 0)
local vec2 = vector(1, 1, 5)
print(vec1:dist(vec2))
```

### dist_sqr

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算到另一个向量的平方距离，此方法比非平方版本更快，需要额外性能时使用。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `other` | `vector` | 要计算距离的目标向量。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 到目标向量的平方距离。 |

**示例**

```lua
local vec1 = vector(0, 0, 0)
local vec2 = vector(1, 1, 5)
print(vec1:dist_sqr(vec2))
```

### dist_2d

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算到另一个向量的 2D 距离（仅考虑 x 和 y 分量）。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `other` | `vector` | 要计算距离的目标向量。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 到目标向量的 2D 距离。 |

**示例**

```lua
local vec1 = vector(0, 0, 0)
local vec2 = vector(1, 1, 5)
print(vec1:dist_2d(vec2))
```

### dist_2d_sqr

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算到另一个向量的平方 2D 距离（仅考虑 x 和 y 分量），此方法比非平方版本更快，需要额外性能时使用。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `other` | `vector` | 要计算距离的目标向量。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 到目标向量的平方 2D 距离。 |

**示例**

```lua
local vec1 = vector(0, 0, 0)
local vec2 = vector(1, 1, 5)
print(vec1:dist_2d_sqr(vec2))
```

### cross

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算与另一个向量的叉积。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `other` | `vector` | 要计算叉积的目标向量。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `vector` | 叉积结果向量。 |

**示例**

```lua
local vec1 = vector(0, 0, 0)
local vec2 = vector(1, 1, 5)
local cross_vec = vec1:cross(vec2)
```

### is_valid

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

检查向量中的所有值是否都是有限的。

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `bool` | 如果所有值都是有限的，则返回 true，否则返回 false。 |

**示例**

```lua
local vec = vector(5, 1, 6)
if vec:is_valid() then
    -- ...
end
```

### length

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算向量的长度。

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 向量的长度。 |

**示例**

```lua
local vec = vector(5, 1, 6)
local len = vec:length()
```

### length_sqr

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算向量的平方长度，此方法比非平方版本更快，需要额外性能时使用。

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 向量的平方长度。 |

**示例**

```lua
local vec = vector(5, 1, 6)
local len_sqr = vec:length_sqr()
```

### length_2d

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算向量的 2D 长度（仅考虑 x 和 y 分量）。

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 向量的 2D 长度。 |

**示例**

```lua
local vec = vector(5, 1, 6)
local len_2d = vec:length_2d()
```

### length_2d_sqr

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算向量的平方 2D 长度（仅考虑 x 和 y 分量），此方法比非平方版本更快，需要额外性能时使用。

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 向量的平方 2D 长度。 |

**示例**

```lua
local vec = vector(5, 1, 6)
local len_2d_sqr = vec:length_2d_sqr()
```

### dot

[![方法][此字段是一个方法，必须使用冒号(:)来调用。]rw]

计算两个向量的点积。

**参数**

| 名称 | 类型 | 描述 |
| ---- | ---- | ----------- |
| `other` | `vector` | 要计算点积的目标向量。 |

**返回值**

| 类型 | 描述 |
| ---- | ----------- |
| `float` | 点积结果。 |

**示例**

```lua
local vec1 = vector(0, 0, 0)
local vec2 = vector(1, 1, 5)
local dot_product = vec1:dot(vec2)
```