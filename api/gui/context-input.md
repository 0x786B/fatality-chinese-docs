# ğŸ“¦context_input

æ­¤ç±»å‹è¡¨ç¤ºGUIè¾“å…¥ä¸Šä¸‹æ–‡ã€‚

> ä½ å¯ä»¥åœ¨ [`input`](/api/events?id=input "æ¯å½“GUIå¤„ç†è¾“å…¥æ—¶éƒ½ä¼šè°ƒç”¨ã€‚") ä¸Šä¸‹æ–‡ä¹‹å¤–ä½¿ç”¨ `cursor`ã€`is_mouse_up`ã€`is_mouse_down`ã€`is_key_up` å’Œ `is_key_down` æ–¹æ³•ã€‚ä½¿ç”¨å…¶ä»–æ–¹æ³•æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºä¿¡æ¯å°†æ˜¯è¿‡æ—¶çš„ã€‚

_________________

### cursor

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

è¿”å›å½“å‰å…‰æ ‡ä½ç½®ã€‚

**å‚æ•°**

æ— ã€‚

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| [`vec2`](/api/draw/common-types/vec2 "è¿™æ˜¯æ¸²æŸ“ç³»ç»Ÿä¸­ä½¿ç”¨çš„2Då‘é‡ã€‚") | å…‰æ ‡ä½ç½®ã€‚ |

**ç¤ºä¾‹**

```lua
local cur = gui.input:cursor();
```

### cursor_prev

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

è¿”å›ä¸Šä¸€ä¸ªå…‰æ ‡ä½ç½®ã€‚

**å‚æ•°**

æ— ã€‚

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| [`vec2`](/api/draw/common-types/vec2 "è¿™æ˜¯æ¸²æŸ“ç³»ç»Ÿä¸­ä½¿ç”¨çš„2Då‘é‡ã€‚") | ä¸Šä¸€ä¸ªå…‰æ ‡ä½ç½®ã€‚ |

**ç¤ºä¾‹**

```lua
local prev = gui.input:cursor_prev();
```

## cursor_delta

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

è¿”å›ä¸Šä¸€ä¸ªå’Œå½“å‰å…‰æ ‡ä½ç½®ä¹‹é—´çš„å·®å€¼ã€‚

**å‚æ•°**

æ— ã€‚

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| [`vec2`](/api/draw/common-types/vec2 "è¿™æ˜¯æ¸²æŸ“ç³»ç»Ÿä¸­ä½¿ç”¨çš„2Då‘é‡ã€‚") | å…‰æ ‡å·®å€¼ã€‚ |

**ç¤ºä¾‹**

```lua
local delta = gui.input:cursor_delta();
```

## did_cursor_move

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœå…‰æ ‡è‡ªä¸Šæ¬¡è¾“å…¥ä»¥æ¥å‘ç”Ÿç§»åŠ¨ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

æ— ã€‚

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœç§»åŠ¨åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:did_cursor_move() then
    -- ...
end
```

## did_wheel_move

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœé¼ æ ‡æ»šè½®è‡ªä¸Šæ¬¡è¾“å…¥ä»¥æ¥å‘ç”Ÿç§»åŠ¨ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

æ— ã€‚

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœç§»åŠ¨åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:did_wheel_move() then
    -- ...
end
```

## did_process_mouse

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœä»»ä½•é¼ æ ‡æŒ‰é”®çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

æ— ã€‚

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœå¤„ç†äº†åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:did_process_mouse() then
    -- ...
end
```

## button_released

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœè‡ªä¸Šæ¬¡è¾“å…¥ä»¥æ¥æœ‰ä»»ä½•æŒ‰é”®è¢«é‡Šæ”¾ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

æ— ã€‚

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœé‡Šæ”¾åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:button_released() then
    -- ...
end
```

## wheel_delta

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

è¿”å›æ­¤æ¬¡è¾“å…¥æ»šåŠ¨çš„è¡Œæ•°ã€‚

**å‚æ•°**

æ— ã€‚

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `float` | æ»šåŠ¨çš„è¡Œæ•°ã€‚ |

**ç¤ºä¾‹**

```lua
local scroll = gui.input:wheel_delta();
```

## is_mouse_up

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœé¼ æ ‡æŒ‰é”®å¤„äºæŠ¬èµ·çŠ¶æ€ï¼ˆæœªæŒ‰ä¸‹ï¼‰ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

| åç§° | ç±»å‹ | æè¿° |
| ---- | ---- | ----------- |
| `mb` | [`mouse_button`](/api/gui/context-input/mouse-button "æ­¤æšä¸¾è¡¨ç¤ºé¼ æ ‡æŒ‰é’®ã€‚") | é¼ æ ‡æŒ‰é’®ã€‚ |

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœæœªæŒ‰ä¸‹åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:is_mouse_up(gui.mouse_button.left) then
    -- ...
end
```

## is_mouse_down

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœé¼ æ ‡æŒ‰é”®å¤„äºæŒ‰ä¸‹çŠ¶æ€ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

| åç§° | ç±»å‹ | æè¿° |
| ---- | ---- | ----------- |
| `mb` | [`mouse_button`](/api/gui/context-input/mouse-button "æ­¤æšä¸¾è¡¨ç¤ºé¼ æ ‡æŒ‰é’®ã€‚") | é¼ æ ‡æŒ‰é’®ã€‚ |

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœæŒ‰ä¸‹åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:is_mouse_down(gui.mouse_button.left) then
    -- ...
end
```

## is_mouse_clicked

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœé¼ æ ‡æŒ‰é”®è¢«ç‚¹å‡»ï¼ˆä»æœªæŒ‰ä¸‹çŠ¶æ€åˆ‡æ¢åˆ°æŒ‰ä¸‹çŠ¶æ€ï¼‰ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

| åç§° | ç±»å‹ | æè¿° |
| ---- | ---- | ----------- |
| `mb` | [`mouse_button`](/api/gui/context-input/mouse-button "æ­¤æšä¸¾è¡¨ç¤ºé¼ æ ‡æŒ‰é’®ã€‚") | é¼ æ ‡æŒ‰é’®ã€‚ |

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœç‚¹å‡»åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:is_mouse_clicked(gui.mouse_button.left) then
    -- ...
end
```

## is_mouse_released

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœé¼ æ ‡æŒ‰é”®è¢«é‡Šæ”¾ï¼ˆä»æŒ‰ä¸‹çŠ¶æ€åˆ‡æ¢åˆ°æœªæŒ‰ä¸‹çŠ¶æ€ï¼‰ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

| åç§° | ç±»å‹ | æè¿° |
| ---- | ---- | ----------- |
| `mb` | [`mouse_button`](/api/gui/context-input/mouse-button "æ­¤æšä¸¾è¡¨ç¤ºé¼ æ ‡æŒ‰é’®ã€‚") | é¼ æ ‡æŒ‰é’®ã€‚ |

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœé‡Šæ”¾åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:is_mouse_released(gui.mouse_button.left) then
    -- ...
end
```

## did_process_key

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœä»»ä½•æŒ‰é”®çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

æ— ã€‚

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœçŠ¶æ€æ”¹å˜åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:did_process_key() then
    -- ...
end
```

## is_key_up

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœæŒ‰é”®å¤„äºæŠ¬èµ·çŠ¶æ€ï¼ˆæœªæŒ‰ä¸‹ï¼‰ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

| åç§° | ç±»å‹ | æè¿° |
| ---- | ---- | ----------- |
| `k` | `int` | è™šæ‹ŸæŒ‰é”®ã€‚ |

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœæœªæŒ‰ä¸‹åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:is_key_up(0x41) then -- 'A' é”®
    -- ...
end
```

## is_key_down

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœæŒ‰é”®å¤„äºæŒ‰ä¸‹çŠ¶æ€ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

| åç§° | ç±»å‹ | æè¿° |
| ---- | ---- | ----------- |
| `k` | `int` | è™šæ‹ŸæŒ‰é”®ã€‚ |

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœæŒ‰ä¸‹åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:is_key_down(0x41) then -- 'A' é”®
    -- ...
end
```

## is_key_clicked

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœæŒ‰é”®è¢«ç‚¹å‡»ï¼ˆä»æœªæŒ‰ä¸‹çŠ¶æ€åˆ‡æ¢åˆ°æŒ‰ä¸‹çŠ¶æ€ï¼‰ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

| åç§° | ç±»å‹ | æè¿° |
| ---- | ---- | ----------- |
| `k` | `int` | è™šæ‹ŸæŒ‰é”®ã€‚ |

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœç‚¹å‡»åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:is_key_clicked(0x41) then -- 'A' é”®
    -- ...
end
```

## is_key_released

[![æ–¹æ³•][è¿™æ˜¯ä¸€ä¸ªå¿…é¡»ä½¿ç”¨å†’å·(:)è°ƒç”¨çš„æ–¹æ³•ã€‚]rw]

å¦‚æœæŒ‰é”®è¢«é‡Šæ”¾ï¼ˆä»æŒ‰ä¸‹çŠ¶æ€åˆ‡æ¢åˆ°æœªæŒ‰ä¸‹çŠ¶æ€ï¼‰ï¼Œåˆ™è¿”å› `true`ã€‚

**å‚æ•°**

| åç§° | ç±»å‹ | æè¿° |
| ---- | ---- | ----------- |
| `k` | `int` | è™šæ‹ŸæŒ‰é”®ã€‚ |

**è¿”å›å€¼**

| ç±»å‹ | æè¿° |
| ---- | ----------- |
| `bool` | å¦‚æœé‡Šæ”¾åˆ™è¿”å› `true`ã€‚ |

**ç¤ºä¾‹**

```lua
if gui.input:is_key_released(0x41) then -- 'A' é”®
    -- ...
end
```